# JUC 

#### 进程与线程的区别总结：

    本质区别：进程是操作系统资源分配的基本单位，而线程是处理器任务调度和执行的基本单位。
    
    包含关系：一个进程至少有一个线程，线程是进程的一部分。
    
    资源开销：每个进程都有独立的地址空间，进程之间的切换会有较大的开销；同一个进程内的线程共享进程的地址空间，每个线程都有自己独立的运行栈和程序计数器，线程之间切换的开销小。
    
    影响关系：一个进程崩溃后，在保护模式下其他进程不会被影响，但是一个线程崩溃可能导致整个进程被操作系统杀掉，所以多进程要比多线程健壮
#### 并行和并发

* **前提：一个CPU在一个瞬间只能处理一个任务**

* ![image-20240428130335837](C:/Users/WSJ/Desktop/704Sync_dataStructure/dataStructure/%E7%AC%AC%E4%B8%80%E8%BD%AE%E5%85%AB%E8%82%A1%E7%AC%94%E8%AE%B0/%E8%87%AA%E5%B7%B1%E8%AE%B0%E5%BD%95/JUC.assets/image-20240428130335837.png)

* ![image-20240428130449794](C:/Users/WSJ/Desktop/704Sync_dataStructure/dataStructure/%E7%AC%AC%E4%B8%80%E8%BD%AE%E5%85%AB%E8%82%A1%E7%AC%94%E8%AE%B0/%E8%87%AA%E5%B7%B1%E8%AE%B0%E5%BD%95/JUC.assets/image-20240428130449794.png)

* 所谓的进程上下文，就是一个进程在执行的时候，CPU的所有寄存器中的值、进程的状态以及堆栈上的内容，当内核需要切换到另一个进程时，它需要保存当前进程的所有状态，即保存当前进程的进程上下文，以便再次执行该进程时，能够恢复切换时的状态，继续执行。

* 1、并发：并发是指两个或多个事件在同一时间间隔发生，把任务在[不同的](https://so.csdn.net/so/search?q=不同的&spm=1001.2101.3001.7020)时间点交给处理器进行处理。在同一时间点，任务并不会同时运行。

  2、并行：并行是指两个或者多个事件在同一时刻发生，把每一个[任务分配](https://so.csdn.net/so/search?q=任务分配&spm=1001.2101.3001.7020)给每一个处理器独立完成。在同一时间点，任务一定是同时运行。

* 用户线程：由用户空间程序管理和调度的线程，运行在用户空间（专门给应用程序使用）。

* 内核线程：由操作系统内核管理和调度的线程，运行在内核空间（只有内核程序可以访问）。

#### 如何创建线程

* 继承thread类
* 实现Runable类
* 实现callable接口
* 使用ExecutorService线程池
* 使用`CompletableFuture`类
* 基于`ThreadGroup`线程组；
*  使用`FutureTask`类。

#### 死锁的四个必要条件：**互斥、占有且等待、不可强占用、循环等待**

