# MySQL

1、mysql基本概念：一种关系型数据库，开源免费，默认端口是3306

* 优点：成熟稳定、功能完善；开源免费；
* 事务支持优秀， InnoDB 存储引擎默认使用 REPEATABLE-READ 并不会有任何性能损失，并且，InnoDB 实现的 REPEATABLE-READ 隔离级别其实是可以解决幻读问题发生的。
* 支持分库分表、读写分离、高可用

2、字段类型

* ![image-20240329134135083](C:/Users/WSJ/Desktop/704Sync_dataStructure/dataStructure/%E7%AC%AC%E4%B8%80%E8%BD%AE%E5%85%AB%E8%82%A1%E7%AC%94%E8%AE%B0/MySQL/3.29_%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.assets/image-20240329134135083.png)

* TINYINT通常使用1个字节存储，范围是-128到127（有符号）或0到255（无符号）。
* SMALLINT通常使用2个字节存储，范围是-32768到32767（有符号）或0到65535（无符号）。
* MEDIUMINT通常使用3个字节存储，范围是-8388608到8388607（有符号）或0到16777215（无符号）。
* INT通常使用4个字节存储，范围是-2147483648到2147483647（有符号）或0到4294967295（无符号）。
* BIGINT通常使用8个字节存储，范围是-9223372036854775808到9223372036854775807（有符号）或0到18446744073709551615（无符号）。
* **浮点型**：
  - FLOAT：单精度浮点数，大约可以在7位有效数字的范围内表示。
  - DOUBLE：双精度浮点数，大约可以在15位有效数字的范围内表示。
* **定点型**：
  - DECIMAL：精确的定点数值，根据数据库系统的不同，可以支持不同的精度和范围。
* **字符串类型**：
  - CHAR和VARCHAR：根据定义的长度限制，可以存储不同长度的字符串。
  - TINYTEXT、TEXT、MEDIUMTEXT和LONGTEXT：分别具有较大的最大长度限制，可以存储大量的文本数据。
  - TINYBLOB、BLOB、MEDIUMBLOB和LONGBLOB：分别具有较大的最大长度限制，可以存储大量的二进制数据。
* **日期时间类型**：
  - YEAR：通常用于存储年份，范围取决于具体实现。
  - TIME：精确到秒，范围通常为00:00:00到23:59:59。
  - DATE：存储日期，范围取决于具体实现。
  - DATETIME和TIMESTAMP：精确到秒，范围通常取决于具体实现，但DATETIME通常范围更广，可以存储更早或更晚的日期时间

3、整数类型的Unsigned属性有什么用？

* 不需要存储负值，可以将正整数的上限提高一倍，对于从0开始递增的列比较合适

4、char和varchar（每个都只占用一个字符（存储大小根据字符集确定））的区别

* char是定长字符串，varchar是不定长字符串
* CHAR 在存储时会在右边填充空格以达到指定的长度，检索时会去掉空格；
* VARCHAR 在存储时需要使用 1 或 2 个额外字节记录字符串的长度，检索时不需要处理
* 所以 char适合存储长度较短和长度差不多的字符串，因为长度不一，会以长度最长的字符长度来定义大小；例如 Bcrypt 算法、MD5 算法加密后的密码、身份证号码。
* VARCHAR 类型适合存储长度不确定或者差异较大的字符串，例如用户昵称、文章标题等。
* 一个字符的存储空间根据字符集算的，UTF-8编码下一个汉字(包括中文形式下的符号)一般是3个字节，一个英文(包括英文下的符号)1个字节，一个数字1个字节。汉字复杂偏僻的更多，有4个字节

5、VARCHAR(100)和 VARCHAR(10)区别是什么

* 可存储的长度不一样；如果存储相同的字符串，存储空间一样；但是放在内存里面，100的占用内存更大，这是使用了定义时候声明的大小100分类内存，比如排序就是按照100个长度进行的

6、DECIMAL和 FLOAT 的区别是：

* **DECIMAL 是定点数，FLOAT/DOUBLE 是浮点数。DECIMAL 可以存储精确的小数值，FLOAT/DOUBLE 只能存储近似的小数值。**

### MySQL默认

1、5.7默认latin1；8.0中默认utf8mb4；

2、MySQL 中的字符集有以下的层次级别：

- `server`（MySQL 实例级别）
- `database`（库级别）
- `table`（表级别）
- `column`（字段级别）

它们的优先级可以简单的认为是从上往下依次增大，也即 `column` 的优先级会大于 `table` 等其余层次的。如指定 MySQL 实例级别字符集是`utf8mb4`，指定某个表字符集是`latin1`，那么这个表的所有字段如果不指定的话，编码就是latin1

3、如果在执行具体语句时未指定字符集，那么 MySQL 将会使用上一级 级别的字符集



